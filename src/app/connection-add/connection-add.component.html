<app-bread-crumbs [crumbs]="crumbs"></app-bread-crumbs>
<form class="container" #form="ngForm">
    <div class="row p-3">
        <label class="form-label col-form-label col-sm-1" for="name">Name:</label>
        <div class="col-sm-6">
            <input id="name" name="name" #name="ngModel" 
                type="text" class="form-control" 
                [(ngModel)]="connection.connectionName" 
                autofocus required>
            <div id='nameValidation' [hidden]="name.valid || name.pristine" class="bd-callout bd-callout-danger">
                <div *ngIf="name.errors?.required">
                    Name is required
                </div>
            </div>
        </div>
    </div>
    <div class="row p-3">
        <label class="form-label col-form-label col-sm-1" for="host">Host:</label>
        <div class="col-sm-6">
            <input id="host" name="host" type="text" class="form-control" [(ngModel)]="connection.connectionHost">
        </div>
    </div>
    <div class="row p-3">
        <label class="form-label col-form-label col-sm-1" for="port">Port:</label>
        <div class="col-sm-6">
            <input id="port" name="port" #port="ngModel"
                type="text" class="form-control"
                [(ngModel)]="connection.connectionPort"
                required pattern="^\d*$">
            <div id='portValidation' [hidden]="port.valid || port.pristine" class="bd-callout bd-callout-danger">
                <div *ngIf="port.errors?.required">
                    Port is required
                </div>
                <div *ngIf="port.errors?.pattern">
                    Port must be a whole number
                </div>
            </div>
        </div>
    </div>
    <div class="row p-3">
        <label class="form-label col-form-label col-sm-1" for="database">Database:</label>
        <div class="col-sm-6">
            <input id="database" name="database" type="text" class="form-control" [(ngModel)]="connection.connectionDatabase">
        </div>
    </div>
    <div class="row p-3">
        <label class="form-label col-form-label col-sm-1" for="username">Username:</label>
        <div class="col-sm-6">
            <input id="username" name="username" type="text" class="form-control" [(ngModel)]="connection.connectionUsername">
        </div>
    </div>
    <div class="row p-3">
        <label class="form-label col-form-label col-sm-1" for="password">Password:</label>
        <div class="col-sm-6">
            <input id="password" name="password" type="password" class="form-control" [(ngModel)]="connection.connectionPassword">
        </div>
    </div>
    <div class="row">
        <div class="p-2 col-12">
            <div class="btn-toolbar">
                <div class="btn-group me-2">
                    <a class="btn btn-secondary" routerLink="/connections">Cancel</a>
                </div>
                <!--TODO: test connection button-->
                <div class="btn-group me-2">
                    <button class="btn btn-primary" type="submit" 
                        (click)="add()" [disabled]="!form.valid || form.pristine">Add</button>
                </div>
            </div>
        </div>
    </div>
</form>
